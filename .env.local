
# .env.local - Sara Local Development Environment Configuration
# ===============================================================
# Optimized for fast startup, model caching, and development testing

# Environment Configuration
SARA_ENV=local

# Model Configuration - Optimized for local development
# SARA_EMBEDDING_MODEL=BAAI/bge-base-en-v1.5
SARA_EMBEDDING_MODEL=BAAI/bge-large-en-v1.5
SARA_LLM_MODEL=qwen2.5:3b-instruct

# Reranker Model - Balanced performance for local development
# SARA_RERANKER_MODEL=BAAI/bge-reranker-base
SARA_RERANKER_MODEL=BAAI/bge-reranker-large

# HuggingFace Optimization Settings
# These significantly reduce startup time by enabling proper caching
HF_HUB_DISABLE_TELEMETRY=1
HF_HUB_DISABLE_PROGRESS_BARS=1
HF_HUB_DISABLE_SYMLINKS_WARNING=1
HF_HOME=./model_cache/huggingface
TRANSFORMERS_VERBOSITY=error
TOKENIZERS_PARALLELISM=false

# Paths - relative for local development
SARA_DATA_PATH=./data
SARA_VECTOR_PATH=./vector_store

# Document Processing Settings - Optimized for bge-large-en-v1.5
SARA_CHUNK_SIZE=500
SARA_CHUNK_OVERLAP=125

# Retrieval Settings - Optimized for bge-large models
SARA_RETRIEVER_K=6
SARA_SEARCH_TYPE=hybrid
SARA_KEYWORD_RATIO=0.4
SARA_FAQ_MATCH_WEIGHT=0.5

# Query Processing - Reduced for faster local development
SARA_QUERY_EXPANSION=True
SARA_EXPANSION_FACTOR=2
SARA_MAX_CONTEXT_SIZE=8000
SARA_CONTEXT_COMPRESSION=True

# Confidence Settings - Tuned for bge-large models (temporarily lowered for testing)
SARA_CONFIDENCE_THRESHOLD=0.4

# Semantic Enhancement Settings (Phase 4)
SARA_USE_ENHANCED_SEMANTICS=true
# SARA_SEMANTIC_MODEL=en_core_web_sm
# SARA_SEMANTIC_MODEL=en_core_web_md
SARA_SEMANTIC_MODEL=en_core_web_lg
SARA_SEMANTIC_EXPANSION_LIMIT=5

# Resource Management - Conservative for local development
SARA_MAX_THREADS=2
SARA_MAX_MEMORY=2G

# Ollama Configuration
SARA_OLLAMA_URL=http://localhost:11434

# Logging - More verbose for development
SARA_LOG_LEVEL=INFO

# APU Filtering 
FILTER_APU_ONLY=True

# Force reindexing (set to True to rebuild vector store)
SARA_FORCE_REINDEX=False

# APU Knowledge Base Settings
SARA_APU_KB_ANSWER_SIZE=2
SARA_APU_KB_EXACT_MATCH_BOOST=2.0

# Development Model Management - More Frequent Testing
# ====================================================
# More frequent checks for development to test the system
SARA_MODEL_CHECK_INTERVAL_DAYS=7               # Check weekly in dev
SARA_MODEL_WARNING_AGE_DAYS=30                 # Warn after 1 month in dev
SARA_MODEL_CRITICAL_AGE_DAYS=60                # Critical after 2 months in dev
SARA_MODEL_AUTO_UPDATE_PROMPT=True             # Always prompt in dev
SARA_MODEL_UPDATE_CHECK_ENABLED=True           # Enable update checks
SARA_MODEL_REQUIRE_APPROVAL=True               # Still require approval

# Local-specific model settings
SARA_MODEL_CACHE_CLEANUP=False                 # Don't auto-cleanup in dev
SARA_MODEL_BACKUP_ENABLED=True                 # Enable backups
SARA_MODEL_MAX_BACKUPS=2                       # Fewer backups in dev
SARA_MODEL_NOTIFICATION_EMAIL=                 # No email notifications in dev

# Development Debugging and Testing
# =================================
# Enable additional debugging features for development
SARA_DEBUG_MODE=True
SARA_VERBOSE_STARTUP=True
SARA_PROFILE_PERFORMANCE=False
SARA_MOCK_SLOW_OPERATIONS=False